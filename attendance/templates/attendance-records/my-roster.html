{% extends 'base.html' %}
{% load static %}
{% block head %}
    <link rel="stylesheet" href="{% static 'css/calendar.css' %}" media="all">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
{% endblock %}
{% block title %} Roster {% endblock %}

{% block display-content %}
<div class="d-flex justify-content-center pt-2">
  <span class="hidden month">{{ selected_month }}</span>
  <span class="hidden year">{{ selected_year }}</span>
    <div class="wrapper">
        <header>
          <p class="current-date"></p>
          {% if selected_month > 1 and selected_month < 12 %}
              <div class="icons mx-3">
                  <a href="{% url 'account_roster' request.user.id %}?selected_month={{ selected_month|add:"-1" }}&selected_year={{ selected_year }}" id="prev" class="fs-4" >&lt;</a>
                  <a href="{% url 'account_roster' request.user.id %}?selected_month={{ selected_month|add:"1" }}&selected_year={{ selected_year }}" id="next" class="fs-4" >&gt;</a>
              </div>
          {% elif selected_month == 1 %}
              <div class="icons mx-3">
                  <a href="{% url 'account_roster' request.user.id %}?selected_month=12&selected_year={{ selected_year|add:"-1" }}" id="prev" class="fs-4" >&lt;</a>
                  <a href="{% url 'account_roster' request.user.id %}?selected_month={{ selected_month|add:"1" }}&selected_year={{ selected_year }}" id="next" class="fs-4" >&gt;</a>
              </div>
          {% elif selected_month == 12%}
              <div class="icons mx-3">
                  <a href="{% url 'account_roster' request.user.id %}?selected_month={{ selected_month|add:"-1" }}&selected_year={{ selected_year }}" id="prev" class="fs-4" >&lt;</a>
                  <a href="{% url 'account_roster' request.user.id %}?selected_month=1&selected_year={{ selected_year|add:"1" }}" id="next" class="fs-4" >&gt;</a>
              </div>
          {% endif %}
        </header>
        <div class="calendar">
          <ul class="weeks">
            <li class="text-bg-secondary py-2">Sun</li>
            <li class="text-bg-secondary py-2">Mon</li>
            <li class="text-bg-secondary py-2">Tue</li>
            <li class="text-bg-secondary py-2">Wed</li>
            <li class="text-bg-secondary py-2">Thu</li>
            <li class="text-bg-secondary py-2">Fri</li>
            <li class="text-bg-secondary py-2">Sat</li>
          </ul>
          <ul class="days">
            {% for record in roster_list %}
                <li class="days text-bg-{{ record.1 }}">{{ record.0|date:"d" }}</li>
            {% endfor %}
          </ul>
        </div>
        <h4 class="text-bg-secondary text-center mb-0">Shifts Details</h4>
        <div class="d-flex flex-wrap gap-2 p-3">
            {% for shift in shifts %}
                <div class="text-bg-{{ shift.color }} flex-fill text-center py-2 px-3">
                    <h6 class="text-center m-0 p-2">{{ shift.name }}</h6>
                    <hr class="bg-dark p-0 m-0">
                    <h6 class=" text-center m-0 p-2">Start: {{ shift.from_time|date:"H:i" }}</h6>
                    <hr class="bg-dark p-0 m-0">
                    <h6 class="text-center m-0 pt-2">End: {{ shift.to_time|date:"H:i" }}</h6>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
{% block JS %}
    <script src="{% static 'js/calendar2.js' %}"></script>
{% endblock %}